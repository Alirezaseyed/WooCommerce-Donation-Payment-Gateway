# WooCommerce Donation Payment Gateway

## توضیحات

این افزونه یک درگاه پرداخت سفارشی برای ووکامرس فراهم می‌کند که کاربران را به صفحه پرداخت حمایتی هدایت می‌کند. این افزونه از قابلیت AJAX برای بررسی وضعیت پرداخت استفاده می‌کند.

## ویژگی‌ها
- امکان هدایت کاربران به صفحه پرداخت حمایتی
- قابلیت انتخاب گزینه‌های مختلف برای پرداخت
- بررسی وضعیت پرداخت با استفاده از AJAX
- امکان تنظیم لینک‌های مختلف پرداخت در تنظیمات افزونه
- پشتیبانی از REST API برای به‌روزرسانی وضعیت سفارش

## نحوه نصب

1. فایل افزونه را در پوشه `wp-content/plugins/` وردپرس خود آپلود کنید.
2. در پنل مدیریت وردپرس، به بخش "افزونه‌ها" بروید و افزونه `WooCommerce Donation Payment Gateway` را فعال کنید.
3. مطمئن شوید که افزونه ووکامرس فعال است.
4. از طریق "ووکامرس > تنظیمات > پرداخت‌ها"، درگاه پرداخت حمایتی را پیکربندی کنید.

## نحوه استفاده

1. به صفحه "ووکامرس > تنظیمات > پرداخت‌ها" بروید.
2. در بخش "پرداخت حمایتی" تنظیمات مورد نظر را اعمال کنید:
   - عنوان درگاه
   - توضیحات درگاه
   - لینک پیش‌فرض صفحه پرداخت
   - گزینه‌های هدایت (برای ارائه چند گزینه به کاربران)
3. هنگام پرداخت، کاربران می‌توانند یکی از گزینه‌های پرداخت را انتخاب کرده و به صفحه مربوطه هدایت شوند.

## تنظیمات AJAX

این افزونه از AJAX برای بررسی وضعیت پرداخت استفاده می‌کند. هر ۱۰ ثانیه وضعیت سفارش بررسی می‌شود. همچنین دکمه‌ای برای بررسی دستی وضعیت پرداخت به صفحه پرداخت اضافه شده است.

## REST API

این افزونه یک REST API فراهم می‌کند که سیستم‌های خارجی می‌توانند از آن برای به‌روزرسانی وضعیت پرداخت استفاده کنند.

- مسیر API:
  ```
  POST /wp-json/wc-donation/v1/status
  ```
- پارامترها:
  - `tracking_code`: کد رهگیری پرداخت
  - `status`: مقدار `success` برای پرداخت موفق یا `failed` برای پرداخت ناموفق

## توسعه و سفارشی‌سازی

برای تغییر در عملکرد افزونه می‌توانید کد را در فایل `woocommerce-donation-gateway.php` ویرایش کنید. همچنین برای تغییرات در اسکریپت‌های مربوط به AJAX می‌توانید فایل `donation-ajax.js` را تغییر دهید.

## پشتیبانی

در صورت نیاز به پشتیبانی، لطفاً با ایمیل `support@example.com` تماس بگیرید.

